\doxysection{Reversi.\+cpp}
\label{_reversi_8cpp_source}\index{src/Reversi.cpp@{src/Reversi.cpp}}
\textbf{ Ir para a documentação desse arquivo.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}Reversi.hpp"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <iomanip>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00013\ Reversi::Reversi()}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ this-\/>rows\ =\ 8;}
\DoxyCodeLine{00016\ \ \ this-\/>columns\ =\ 8;}
\DoxyCodeLine{00017\ \}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00033\ \textcolor{keywordtype}{int}\ Reversi::confereGanhador()}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordtype}{int}\ contadorX\ =\ 0;}
\DoxyCodeLine{00036\ \ \ \textcolor{keywordtype}{int}\ contadorO\ =\ 0;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ rows;\ ++i)}
\DoxyCodeLine{00039\ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ columns;\ ++j)}
\DoxyCodeLine{00041\ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[i][j]\ ==\ \textcolor{charliteral}{'X'})}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ contadorX++;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (matrix[i][j]\ ==\ \textcolor{charliteral}{'O'})}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ contadorO++;}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{if}\ (contadorX\ >\ contadorO)}
\DoxyCodeLine{00054\ \ \ \{}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;\ \textcolor{comment}{//\ Jogador\ 1\ ganhou}}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (contadorO\ >\ contadorX)}
\DoxyCodeLine{00058\ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ 2;\ \textcolor{comment}{//\ Jogador\ 2\ ganhou}}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (contadorX\ ==\ contadorO)}
\DoxyCodeLine{00062\ \ \ \{}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{return}\ 3;\ \textcolor{comment}{//\ Empate}}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00077\ \textcolor{keywordtype}{void}\ Reversi::inicializarJogo()}
\DoxyCodeLine{00078\ \{}
\DoxyCodeLine{00079\ \ \ matrix[3][3]\ =\ \textcolor{charliteral}{'X'};}
\DoxyCodeLine{00080\ \ \ matrix[4][4]\ =\ \textcolor{charliteral}{'X'};}
\DoxyCodeLine{00081\ \ \ matrix[3][4]\ =\ \textcolor{charliteral}{'O'};}
\DoxyCodeLine{00082\ \ \ matrix[4][3]\ =\ \textcolor{charliteral}{'O'};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ jogadorAtual\ =\ \textcolor{charliteral}{'X'};}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00105\ \textcolor{keywordtype}{bool}\ Reversi::ehJogadaValida(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{char}\ jogadorDaVez)}
\DoxyCodeLine{00106\ \{}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{if}\ (x\ <\ 0\ ||\ x\ >=\ rows\ ||\ y\ <\ 0\ ||\ y\ >=\ columns\ ||\ matrix[x][y]\ !=\ \textcolor{charliteral}{'\ '})}
\DoxyCodeLine{00108\ \ \ \{}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \textcolor{keywordtype}{char}\ corAdversario\ =\ ((jogadorDaVez\ ==\ \textcolor{charliteral}{'X'})\ ?\ \textcolor{charliteral}{'O'}\ :\ \textcolor{charliteral}{'X'});}
\DoxyCodeLine{00113\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ direcoes[8][2]\ =\ \{\{-\/1,\ -\/1\},\ \{-\/1,\ 0\},\ \{-\/1,\ 1\},\ \{0,\ -\/1\},\ \{0,\ 1\},\ \{1,\ -\/1\},\ \{1,\ 0\},\ \{1,\ 1\}\};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ ++i)}
\DoxyCodeLine{00116\ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{int}\ MoveLinha\ =\ direcoes[i][0];}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{int}\ MoveColuna\ =\ direcoes[i][1];}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{int}\ linhaAtual\ =\ x\ +\ MoveLinha;}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{int}\ colunaAtual\ =\ y\ +\ MoveColuna;}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordtype}{bool}\ encontrouAdversario\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{while}\ (linhaAtual\ >=\ 0\ \&\&\ linhaAtual\ <\ rows\ \&\&\ colunaAtual\ >=\ 0\ \&\&\ colunaAtual\ <\ columns)}
\DoxyCodeLine{00124\ \ \ \ \ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[linhaAtual][colunaAtual]\ ==\ corAdversario)}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ encontrouAdversario\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (matrix[linhaAtual][colunaAtual]\ ==\ jogadorDaVez\ \&\&\ encontrouAdversario\ ==\ \textcolor{keyword}{true})}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \ \ \ \ linhaAtual\ =\ linhaAtual\ +\ MoveLinha;}
\DoxyCodeLine{00138\ \ \ \ \ \ \ colunaAtual\ =\ colunaAtual\ +\ MoveColuna;}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \}}
\DoxyCodeLine{00141\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00142\ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00156\ \textcolor{keywordtype}{bool}\ Reversi::existeMovimentoPossivel(\textcolor{keywordtype}{char}\ jogadorDaVez)}
\DoxyCodeLine{00157\ \{}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordtype}{int}\ movimentosPossiveis\ =\ 0;}
\DoxyCodeLine{00159\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ ++i)}
\DoxyCodeLine{00160\ \ \ \{}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ 8;\ ++j)}
\DoxyCodeLine{00162\ \ \ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[i][j]\ ==\ \textcolor{charliteral}{'\ '}\ \&\&\ ehJogadaValida(i,\ j,\ jogadorDaVez))}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ movimentosPossiveis++;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \}}
\DoxyCodeLine{00169\ \ \ \textcolor{keywordflow}{if}\ (movimentosPossiveis\ ==\ 0)}
\DoxyCodeLine{00170\ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00172\ \ \ \}}
\DoxyCodeLine{00173\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00174\ \}}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00185\ \textcolor{keywordtype}{void}\ Reversi::mostrarLocaisJogada(\textcolor{keywordtype}{char}\ jogadorDaVez)}
\DoxyCodeLine{00186\ \{}
\DoxyCodeLine{00187\ \ \ cout\ <<\ \textcolor{stringliteral}{"{}Coordenadas\ para\ jogadas\ possíveis:\ "{}};}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ ++i)}
\DoxyCodeLine{00189\ \ \ \{}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ 8;\ ++j)}
\DoxyCodeLine{00191\ \ \ \ \ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[i][j]\ ==\ \textcolor{charliteral}{'\ '}\ \&\&\ ehJogadaValida(i,\ j,\ jogadorDaVez))}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ cout\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{},"{}}\ <<\ j\ <<\ \textcolor{stringliteral}{"{})\ "{}};}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00197\ \ \ \ \ \}}
\DoxyCodeLine{00198\ \ \ \}}
\DoxyCodeLine{00199\ \ \ cout\ <<\ endl;}
\DoxyCodeLine{00200\ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00215\ \textcolor{keywordtype}{void}\ Reversi::validaJogada(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{char}\ z)}
\DoxyCodeLine{00216\ \{}
\DoxyCodeLine{00217\ \ \ \textcolor{keywordflow}{if}\ (!ehJogadaValida(x,\ y,\ z))}
\DoxyCodeLine{00218\ \ \ \{}
\DoxyCodeLine{00219\ \ \ \ \ cout\ <<\ \textcolor{stringliteral}{"{}ERRO:\ jogada\ inválida"{}}\ <<\ endl;}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00221\ \ \ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ matrix[x][y]\ =\ z;}
\DoxyCodeLine{00224\ \ \ inverterPecas(x,\ y,\ z);}
\DoxyCodeLine{00225\ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00239\ \textcolor{keywordtype}{void}\ Reversi::inverterPecas(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{char}\ jogadorDaVez)}
\DoxyCodeLine{00240\ \{}
\DoxyCodeLine{00241\ \ \ \textcolor{keywordtype}{char}\ corAdversario\ =\ (jogadorDaVez\ ==\ \textcolor{charliteral}{'X'})\ ?\ \textcolor{charliteral}{'O'}\ :\ \textcolor{charliteral}{'X'};}
\DoxyCodeLine{00242\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ direcoes[8][2]\ =\ \{\{-\/1,\ -\/1\},\ \{-\/1,\ 0\},\ \{-\/1,\ 1\},\ \{0,\ -\/1\},\ \{0,\ 1\},\ \{1,\ -\/1\},\ \{1,\ 0\},\ \{1,\ 1\}\};}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ ++i)}
\DoxyCodeLine{00245\ \ \ \{}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordtype}{int}\ MoveLinha\ =\ direcoes[i][0];}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordtype}{int}\ MoveColuna\ =\ direcoes[i][1];}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordtype}{int}\ linhaAtual\ =\ x\ +\ MoveLinha;}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordtype}{int}\ colunaAtual\ =\ y\ +\ MoveColuna;}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{comment}{//\ Salva\ as\ posições\ que\ vão\ ser\ invertidas}}
\DoxyCodeLine{00252\ \ \ \ \ vector<pair<int,\ int>>\ pecasParaInverter;}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keywordflow}{while}\ (linhaAtual\ >=\ 0\ \&\&\ linhaAtual\ <\ rows\ \&\&\ colunaAtual\ >=\ 0\ \&\&\ colunaAtual\ <\ columns)}
\DoxyCodeLine{00255\ \ \ \ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[linhaAtual][colunaAtual]\ ==\ corAdversario)}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Se\ for\ uma\ peça\ adversária}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Adicionar\ ao\ vetor\ a\ posição\ atual}}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ pecasParaInverter.push\_back(\{linhaAtual,\ colunaAtual\});}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (matrix[linhaAtual][colunaAtual]\ ==\ jogadorDaVez)}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Ao\ chegar\ na\ extremidada,\ em\ que\ volta\ a\ ser\ a\ peça\ do\ jogador\ da\ vez}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ percorre\ todas\ as\ posições\ do\ vetor}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&peca\ :\ pecasParaInverter)}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ matrix[peca.first][peca.second]\ =\ jogadorDaVez;\ \textcolor{comment}{//\ Altera\ a\ cor}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ linhaAtual\ =\ linhaAtual\ +\ MoveLinha;}
\DoxyCodeLine{00275\ \ \ \ \ \ \ colunaAtual\ =\ colunaAtual\ +\ MoveColuna;}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \}}
\DoxyCodeLine{00278\ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00291\ \textcolor{keywordtype}{bool}\ Reversi::verificarFimDeJogo()}
\DoxyCodeLine{00292\ \{}
\DoxyCodeLine{00293\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ rows;\ ++i)}
\DoxyCodeLine{00294\ \ \ \{}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ columns;\ ++j)}
\DoxyCodeLine{00296\ \ \ \ \ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[i][j]\ ==\ \textcolor{charliteral}{'\ '}\ \&\&\ (ehJogadaValida(i,\ j,\ \textcolor{charliteral}{'X'})\ ||\ ehJogadaValida(i,\ j,\ \textcolor{charliteral}{'O'})))}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00301\ \ \ \ \ \}}
\DoxyCodeLine{00302\ \ \ \}}
\DoxyCodeLine{00303\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00304\ \}}

\end{DoxyCode}
