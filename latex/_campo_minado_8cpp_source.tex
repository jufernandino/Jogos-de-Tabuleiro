\doxysection{Campo\+Minado.\+cpp}
\label{_campo_minado_8cpp_source}\index{src/CampoMinado.cpp@{src/CampoMinado.cpp}}
\textbf{ Ir para a documentação desse arquivo.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}CampoMinado.hpp"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00012\ CampoMinado::CampoMinado()}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \ \ this-\/>rows\ =\ 7;}
\DoxyCodeLine{00015\ \ \ this-\/>columns\ =\ 7;}
\DoxyCodeLine{00016\ \ \ this-\/>bombas\ =\ 10;}
\DoxyCodeLine{00017\ \}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00025\ \textcolor{keywordtype}{void}\ CampoMinado::iniciaTabuleiro()}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00028\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ rows;\ ++i)}
\DoxyCodeLine{00029\ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ columns;\ ++j)}
\DoxyCodeLine{00031\ \ \ \ \ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ matrix[i][j]\ =\ \textcolor{charliteral}{'+'};}
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00034\ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00037\ \ \ srand(time(0));}
\DoxyCodeLine{00038\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 10;\ ++i)}
\DoxyCodeLine{00039\ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ this-\/>posicao\_minas[0][i]\ =\ rand()\ \%\ this-\/>rows;}
\DoxyCodeLine{00041\ \ \ \ \ this-\/>posicao\_minas[1][i]\ =\ rand()\ \%\ this-\/>columns;}
\DoxyCodeLine{00042\ \ \ \}}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00058\ \textcolor{keywordtype}{int}\ CampoMinado::minasAdj(\textcolor{keywordtype}{int}\ linha,\ \textcolor{keywordtype}{int}\ coluna)}
\DoxyCodeLine{00059\ \{}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{int}\ bombas\_adj\ =\ 0;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ -\/1;\ x\ <=\ 1;\ ++x)}
\DoxyCodeLine{00063\ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ -\/1;\ y\ <=\ 1;\ ++y)}
\DoxyCodeLine{00065\ \ \ \ \ \{}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ iterador\ =\ 0;\ iterador\ <\ this-\/>bombas;\ ++iterador)}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (linha\ +\ x\ ==\ posicao\_minas[0][iterador]\ \&\&}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ coluna\ +\ y\ ==\ posicao\_minas[1][iterador])}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ bombas\_adj++;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{return}\ bombas\_adj;}
\DoxyCodeLine{00077\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00091\ \textcolor{keywordtype}{void}\ CampoMinado::revelaCelula(\textcolor{keywordtype}{int}\ linha,\ \textcolor{keywordtype}{int}\ coluna)}
\DoxyCodeLine{00092\ \{}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordtype}{int}\ minas\_adj\ =\ minasAdj(linha,\ coluna);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{if}\ (!validaJogadaCampoMinado(linha,\ coluna))}
\DoxyCodeLine{00096\ \ \ \{}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{if}\ (minas\_adj\ >\ 0)}
\DoxyCodeLine{00101\ \ \ \{}
\DoxyCodeLine{00102\ \ \ \ \ matrix[linha][coluna]\ =\ \textcolor{charliteral}{'0'}\ +\ minas\_adj;}
\DoxyCodeLine{00103\ \ \ \}}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00105\ \ \ \{\ \textcolor{comment}{//\ se\ não\ tem\ bomba\ adjacente,\ marca\ com\ espaco\ em\ branco\ e\ revela\ as\ células\ adjacentes}}
\DoxyCodeLine{00106\ \ \ \ \ matrix[linha][coluna]\ =\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ -\/1;\ x\ <=\ 1;\ ++x)}
\DoxyCodeLine{00109\ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ -\/1;\ y\ <=\ 1;\ ++y)}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ revelaCelula(linha\ +\ x,\ coluna\ +\ y);}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00114\ \ \ \ \ \}}
\DoxyCodeLine{00115\ \ \ \}}
\DoxyCodeLine{00116\ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00131\ \textcolor{keywordtype}{bool}\ CampoMinado::validaJogadaCampoMinado(\textcolor{keywordtype}{int}\ linha,\ \textcolor{keywordtype}{int}\ coluna)}
\DoxyCodeLine{00132\ \{}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{if}\ (linha\ <\ 0\ ||\ linha\ >=\ rows\ ||\ coluna\ <\ 0\ ||\ coluna\ >=\ columns\ ||}
\DoxyCodeLine{00134\ \ \ \ \ \ \ matrix[linha][coluna]\ !=\ \textcolor{charliteral}{'+'})}
\DoxyCodeLine{00135\ \ \ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00139\ \ \ \{}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00141\ \ \ \}}
\DoxyCodeLine{00142\ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00156\ \textcolor{keywordtype}{bool}\ CampoMinado::escolheuBomba(\textcolor{keywordtype}{int}\ linha,\ \textcolor{keywordtype}{int}\ coluna)}
\DoxyCodeLine{00157\ \{}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ this-\/>bombas;\ ++i)}
\DoxyCodeLine{00159\ \ \ \{}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{if}\ (linha\ ==\ posicao\_minas[0][i]\ \&\&\ coluna\ ==\ posicao\_minas[1][i])}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00162\ \ \ \}}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00164\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00177\ \textcolor{keywordtype}{int}\ CampoMinado::confereGanhador()}
\DoxyCodeLine{00178\ \{}
\DoxyCodeLine{00179\ \ \ \textcolor{keywordtype}{int}\ faltou\ =\ 0;}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ coordX\ =\ 0;\ coordX\ <\ rows;\ ++coordX)}
\DoxyCodeLine{00182\ \ \ \{}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ coordY\ =\ 0;\ coordY\ <\ columns;\ ++coordY)}
\DoxyCodeLine{00184\ \ \ \ \ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ iterador\ =\ 0;\ iterador\ <\ 10;\ ++iterador)}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matrix[coordX][coordY]\ ==\ \textcolor{charliteral}{'+'}\ \&\&}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ !(posicao\_minas[0][iterador]\ ==\ coordX\ \&\&}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ posicao\_minas[1][iterador]\ ==\ coordY))}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ faltou++;}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00194\ \ \ \ \ \}}
\DoxyCodeLine{00195\ \ \ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \textcolor{keywordflow}{if}\ (faltou\ !=\ 0)}
\DoxyCodeLine{00198\ \ \ \{}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00200\ \ \ \}}
\DoxyCodeLine{00201\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (faltou\ ==\ 0)}
\DoxyCodeLine{00202\ \ \ \{}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00218\ \textcolor{keywordtype}{int}\ CampoMinado::jogarCampoMinado()}
\DoxyCodeLine{00219\ \{}
\DoxyCodeLine{00220\ \ \ criaTabuleiro();}
\DoxyCodeLine{00221\ \ \ iniciaTabuleiro();}
\DoxyCodeLine{00222\ \ \ imprimirTabuleiro();}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \textcolor{keywordflow}{while}\ (1)}
\DoxyCodeLine{00225\ \ \ \{}
\DoxyCodeLine{00226\ \ \ \ \ cout\ <<\ \textcolor{stringliteral}{"{}Escreva\ as\ coordenadas\ no\ formato:\ linha\ coluna"{}}\ <<\ endl;}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keywordtype}{int}\ chute\_linha,\ chute\_coluna;}
\DoxyCodeLine{00229\ \ \ \ \ cin\ >>\ chute\_linha\ >>\ chute\_coluna;}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{if}\ (!validaJogadaCampoMinado(chute\_linha,\ chute\_coluna))}
\DoxyCodeLine{00232\ \ \ \ \ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ cout\ <<\ \textcolor{stringliteral}{"{}ERRO:\ jogada\ inválida"{}}\ <<\ endl;}
\DoxyCodeLine{00234\ \ \ \ \ \}}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keywordflow}{if}\ (escolheuBomba(chute\_linha,\ chute\_coluna))}
\DoxyCodeLine{00237\ \ \ \ \ \{}
\DoxyCodeLine{00238\ \ \ \ \ \ \ cout\ <<\ \textcolor{stringliteral}{"{}BOOM!\ Você\ perdeu!"{}}\ <<\ endl;}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00240\ \ \ \ \ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordflow}{if}\ (confereGanhador())}
\DoxyCodeLine{00243\ \ \ \ \ \{}
\DoxyCodeLine{00244\ \ \ \ \ \ \ cout\ <<\ \textcolor{stringliteral}{"{}Parabéns!\ Você\ ganhou!"{}}\ <<\ endl;}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00246\ \ \ \ \ \}}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \ \ minasAdj(chute\_linha,\ chute\_coluna);}
\DoxyCodeLine{00249\ \ \ \ \ revelaCelula(chute\_linha,\ chute\_coluna);}
\DoxyCodeLine{00250\ \ \ \ \ imprimirTabuleiro();}
\DoxyCodeLine{00251\ \ \ \}}
\DoxyCodeLine{00252\ \}}

\end{DoxyCode}
